<!doctype html>
<html lang="id">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CRUD Pegawai</title>

  <!-- CSP: izinkan JS/CSS lokal & koneksi ke API -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self';
               script-src 'self';
               style-src 'self' 'unsafe-inline';
               connect-src 'self' http://localhost:3000;
               img-src 'self' data:;">

  <link rel="stylesheet" href="/assets/app.css">
</head>

<body>
  <header class="bar">
    <h1>Pegawai</h1>
    <nav style="display:flex; gap:8px">
      <a class="btn ghost" href="./divisi.html">Divisi</a>
      <button id="btnAdd" class="btn">+ Tambah Divisi</button>
    </nav>
  </header>

  <main class="container">
    <div id="status" class="status" hidden></div>
    <div class="card">
      <div class="toolbar">
        <input id="q" placeholder="Cari namaâ€¦ (contoh: Put)" />
        <button id="btnSearch" class="btn secondary">Cari</button>
        <button id="btnClear" class="btn ghost">Reset</button>
      </div>

      <div class="table-wrap">
        <table id="tbl">
          <thead>
            <tr>
              <th class="w80">ID</th>
              <th>Nama</th>
              <th>Email</th>
              <th class="w100">ID Div</th>
              <th class="w120">Aksi</th>
            </tr>
          </thead>
          <tbody><!-- rows --></tbody>
        </table>
      </div>
    </div>
  </main>

  <!-- Modal -->
  <dialog id="dlg" class="modal">
    <form method="dialog" class="modal-card" id="frm">
      <h3 id="dlgTitle">Tambah Pegawai</h3>
      <input type="hidden" id="f_id" />
      <label>Nama<input id="f_nama" required></label>
      <label>Email<input id="f_email" type="email" required></label>
      <label>ID Divisi<input id="f_div" type="number" min="1" required></label>
      <div class="modal-actions">
        <button class="btn primary" id="btnSave">Simpan</button>
        <button class="btn ghost" value="cancel">Batal</button>
      </div>
    </form>
  </dialog>

  <script src="/assets/app.js"></script>
</body>

</html>